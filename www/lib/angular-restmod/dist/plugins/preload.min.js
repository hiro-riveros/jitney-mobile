/**
 * API Bound Models for AngularJS
 * @version v1.1.9 - 2015-05-07
 * @link https://github.com/angular-platanus/restmod
 * @author Ignacio Baixas <ignacio@platan.us>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a){"use strict";a.module("restmod").factory("restmod.Preload",["restmod","$q",function(b,c){function d(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e].$resolve(b).$asPromise());return c.all(d)}function e(b,e,f){for(var g,h=[],i=0,j=b.length;j>i;i++)g=b[i][e],a.isArray(g)?h.push.apply(h,g):g&&h.push(g);if(h.length>0){var k="function"==typeof h[0].$type.$populate?h[0].$type.$populate(h,f).$asPromise():d(h,f);if(k)return k.then(function(){return h})}return c.when(h)}function f(a,b){return function(c){return e(c,a,b)}}return b.mixin(function(){this.define("Resource.$preload",function(){var a=arguments;return this.$always(function(){for(var b,d,g,h,i={},j=[],k=this.$isCollection?this:[this],l=0;l<a.length;l++){var m,n=a[l];if("object"==typeof n&&(m=n.params,n=n.path),!i[n]){b="",n=n.split("."),h=null;for(var o=0;o<n.length;o++)d=n[o],g=b+"."+d,i[g]?h=i[g]:(h=h?h.then(f(d,m)):e(k,d,m),i[g]=h);j.push(h)}}return c.all(j)})})})}])}(angular);